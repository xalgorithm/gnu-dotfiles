# Navigation (Zoxide)
alias cd="z"
alias ..="z .."
alias ...="z ../.."
alias ....="z ../../.."
alias .....="z ../../../.."
alias ~="z ~"
alias -- -="z -"

# Shortcuts
alias d="z ~/Dropbox"
alias p="z ~/dev"
alias g="git"
alias h="history"
alias j="jobs"
alias v="vim"
alias m="mate ."
alias s="subl ."
alias o="open"
alias oo="open ."
alias hist='history | grep $1'
alias screens='screen -list'
alias ports='lsof -nP -i | egrep "LISTEN|UDP"'
alias home='ssh -p 222 xalg@home.xalg.im'
alias sizeof='du -h -d 1 . 2>/dev/null | sort -hr'

# Google Cloud
alias gc='gcloud '
alias fsdev='gc config set project devproject-309520'
alias fsprod='gc config set project glass-hydra-267318'

# LS (Eza)
alias ls='eza --icons'
alias l='eza -l --icons --git'
alias la='eza -la --icons --git'
alias lt='eza --tree --icons'
alias lsd='eza -lD --icons'

# Cat (Bat)
alias cat='bat'
alias less='bat'

# Grep (Ripgrep)
alias grep='rg'
alias fgrep='rg -F'
alias egrep='rg'

# Find (Fd)
alias find='fd'

# Utils
alias sudo='sudo '
alias sync='rsync -rave "ssh" '
alias week='date +%V'
alias timer='echo "Timer started. Stop with Ctrl-D." && date && time cat && date'
alias gurl="curl --compressed"
alias mymyip="dig +short myip.opendns.com @resolver1.opendns.com"
alias localip="ipconfig getifaddr en0"
alias ips="ifconfig -a | grep -o 'inet6\? \(addr:\)\?\s\?\(\(\([0-9]\+\.\)\{3\}[0-9]\+\)\|[a-fA-F0-9:]\+\)' | awk '{ sub(/inet6? (addr:)? ?/, \"\"); print }'"
alias whois="whois -h whois-servers.net"
command -v hd > /dev/null || alias hd="hexdump -C"
command -v md5sum > /dev/null || alias md5sum="md5"
command -v sha1sum > /dev/null || alias sha1sum="shasum"
alias c="tr -d '\n' | pbcopy"
alias urlencode='python -c "import sys, urllib as ul; print ul.quote_plus(sys.argv[1]);"'
alias badge="tput bel"
alias map="xargs -n1"
for method in GET HEAD POST PUT DELETE TRACE OPTIONS; do
        alias "$method"="lwp-request -m '$method'"
done
command -v grunt > /dev/null && alias grunt="grunt --stack"
alias stfu="osascript -e 'set volume output muted true'"
alias pumpitup="osascript -e 'set volume 7'"
alias chromekill="ps ux | grep '[C]hrome Helper --type=renderer' | grep -v extension-process | tr -s ' ' | cut -d ' ' -f2 | xargs kill"
alias afk="/System/Library/CoreServices/Menu\ Extras/User.menu/Contents/Resources/CGSession -suspend"
alias reload="exec $SHELL -l"

# Varnish / Web
alias varnishon='iptables -t nat -A PREROUTING -i eth0 -p tcp -m tcp --dport 80 -j REDIRECT --to-ports 6081;iptables -t nat -A PREROUTING -i eth0 -p tcp -m tcp --dport 6081 -j REDIRECT --to-ports 80'
alias varnishoff='iptables -t nat -D PREROUTING -i eth0 -p tcp -m tcp --dport 80 -j REDIRECT --to-ports 6081;iptables -t nat -D PREROUTING -i eth0 -p tcp -m tcp --dport 6081 -j REDIRECT --to-ports 80'
alias varnishstatus='iptables -L -t nat |grep -q 6081; if [ "test$?" = "test0" ]; then echo "Varnish On"; else echo "Varnish Off"; fi'
alias chmweb='sh /usr/local/sbin/chmod_websites.sh'

# Git
alias gage="git stage -A"
alias gommit="git commit -a"
alias gush="git push --all"
alias gull="git pull --all"

# AWS
alias awssso="aws sso login --profile"
alias awsref="yawsso -p $@"
alias aws-dailykos-root="awsref dailykos-root | egrep '(error|expired)' &&(awssso dailykos-root && awsref dailykos-root)"
alias aws-dailykos-infra="awsref dailykos-infra | egrep '(error|expired)' &&(awssso dailykos-infra && awsref dailykos-infra)"
alias aws-dailykos-prod="awsref dailykos-prod | egrep '(error|expired)' &&(awssso dailykos-prod && awsref dailykos-prod)"
alias aws-dailykos-dev="awsref dailykos-dev | egrep '(error|expired)' &&(awssso dailykos-dev && awsref dailykos-prod)"
alias aws-dailykos-dns="awsref dailykos-dns | egrep '(error|expired)' &&(awssso dailykos-dns && awsref dailykos-dns)"
alias aws-dailykos-all="aws-dailykos-root; aws-dailykos-infra; aws-dailykos-prod; aws-dailykos-dns; aws-dailykos-dev;"
alias kos-prod="aws configure sso --profile dailykos-prod"
alias kos-dev="aws configure sso --profile dailykos-dev"
alias kos-infra="aws configure sso --profile dailykos-infra"
alias kos-dns="aws configure sso --profile dailykos-dns"
alias kos-root="aws configure sso --profile dailykos-root"

# Kubernetes / Terraform
alias kubectl="kubecolor"
alias bfg='java -jar /usr/local/bin/bfg.jar'
alias terraform="/usr/local/bin/terraform"

# Kube Config Switching
export KUBECONFIG_EPYC="/Users/xalg/.kube/configs/epyc-config"
export KUBECONFIG_EPYC2="/Users/xalg/.kube/configs/epyc2.conf"
export KUBECONFIG_REBEL="/Users/xalg/.kube/configs/rebellion.conf"
alias kset-epyc="export KUBECONFIG=$KUBECONFIG_EPYC && echo 'KUBECONFIG set to epyc' && kubectl config current-context"
alias kset-epyc2="export KUBECONFIG=$KUBECONFIG_EPYC2 && echo 'KUBECONFIG set to epyc2' && kubectl config current-context"
alias kset-rebel="export KUBECONFIG=$KUBECONFIG_REBEL && echo 'KUBECONFIG set to rebellion' && kubectl config current-context"
alias kset-default="unset KUBECONFIG && echo 'KUBECONFIG unset, using default symlink' && kubectl config current-context"

# HSTR
alias hh=hstr
